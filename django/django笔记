在settings中设置静态文件目录
STATICFILES_DIRS = (os.path.join(BASE_DIR,'static'),)
if request.method == "POST":
   user=request.POST.get('user',None)
   pwd = request.POST.get('pwd',None)
   
试图渲染数据到前端   
User_list=[
{'username':'gzw','gender':'nv','email':'abc@ss.com'},
]

for index in range(20):
  temp = {'username':'gzw'+str(index),'gender':'nv','email':'abc@ss.com'}
  User_list.append(temp)
  
  def home(request):
     return render(request,'home.html',{'user_list': User_list})
     
  单选按钮数据获取
  男：<input type="radio" name="gender" value="1" />
  女：<input type="radio" name="gender" value="2" />
  
  gender=request.POST.get('gender')
  
  多选按钮数据提交
   男：<input type="checkbox" name="favor" value="11" />
  女：<input type="checkbox" name="favor" value="22" />
  favor= request.POST.getlist('favor')
  
  select 单选数据提交 (get)
  <select name="city">
    <option value='sh'>shanghai</option>
    <option value='bj'>beijing</option>
    <option value='tj'>tianjing</option>
    </select>
    
  select 多选数据提交 (getlist)
  <select name="city" multiple>
    <option value='sh'>shanghai</option>
    <option value='bj'>beijing</option>
    <option value='tj'>tianjing</option>
    </select>
    
    
    文件上传（需要知道文件名，文件内容）
    文件上传后，文件名，内容都存在了request.FILES中
    form文件上传必须有enctype="multipart/form-data" 属性
    <form action="" method="POST" enctype="multipart/form-data">
    <input type='file' name='fa' />
    
    fa_obj= request.FILES.get('fa')
    
    获取文件名：fa_obj.name
    import os
    file_path=os.paht.join('upload',fa_obj.name)
    for file_content in fa_obj.chunks():
        with open(file_path,'wb') as f:
          f.write(file_content)
    
    CBV
    url设置
    url(r'^home/',views.Home.as_view()),
    from django.views import View
    class Home(View):
       def get(self,request):
           pass
       def post(self,request):
           pass


request.path_info  当前的url
url(r'^adfsdf/',views.index,name='i1'),
url(r'^yug/(\d+)/(\d+)/',views.index,name='i2'),
url(r'^buy/(?P<pid>\d+)/(?P<nid>\d+)/',views.index,name='i3'),
在视图函数中生成url
def func(request,*args,**kwargs):
  from django.urls import reverse
  url1 = reverse('index')
  url2=reverse('index',args=(1,2,))
  url3 = reverse('index',kwargs={'pid':1,'nid':9}
  
  xx.html
  
  {% url "i1" %}
  {% url "i2" 1 2 %}
  {% url "i3" pid=1 nid=2 %}

django 使用mysql
在__init__.py下添加如下配置
import pymysql
pymysql.install_as_MySQLdb()

orm 操作
创建
1:    models.Userinfo.objects.create(username='root',password='123')
2:    obj=models.Userinfo(username='root',password='123')
      obj.save()
3:    dic= {'username'：'eee','password':'666'}
      models.Userinfo.objects.create(**dic)
#查询
   查询所有
   result = models.Userinfo.objects.all()
   #print result.query()  #打印出sql语句
   #result 是一个querySet类型，可以理解为是一个列表[obj(id,username,password),obj(id,username,password),obj(id,username,password)]
   
    result = models.Userinfo.objects.all().values(id,caption)  #查询的结果也为queryset集合，集合里面就是对象了[{'id':1,'caption':'db'},{},{}]
    #前端展示row.id
    
    result = models.Userinfo.objects.all().values_list(id,caption) #querySet集合，内部元素为元祖 [(1,'db'),(2,'ma')]
    #前端展示row.0 row.1
    
    
   根据条件查询
   result = models.Userinfo.objects.filter(username='root')
   result = models.Userinfo.objects.filter(username='root',password='123') and操作
   #result 是一个querySet类型

#删除
models.Userinfo.objects.all().delete()  全部删除
models.Userinfo.objects.filter(name='ee').delete()

#更新

models.Userinfo.objects.all().update(password=666)
models.Userinfo.objects.filter(id=4).update(password=666)

设置自增Id
uid=models.AutoField(primary_key=True)

字段参数：
null  db是否可以为空
default  默认值
primary_key  主键
db_column   列名
db_index=True   索引
unique=True  唯一索引
unique_for_date  只对时间做索引
unique_for_month 只对月份做索引
unique_for_year  只对年份做索引
auto_now=True  创建时，自动生成
auto_now_add=True  更新时，自动生成
ctime=models.DateTimeField(auto_now_add=True,null=True) 后期时间不会更新
uptime = models.DateTimeField(auto_now=True) 更新的时候，时间自动更新，并且需要按照下面的更新方式，才会更新
    obj=UserGroup.objects.filter(id=1).filter()
    obj.caption="CEO"
    obj.save()
    
choices django admin 中显示下拉框，避免连表查询

user_type_choices= (
  (1,"超级用户"),
  (2,"普通用户"),
  (3,"普普通用户"),
)
user_type_id=models.IntegerField(choices=user_type_choices,default=1)

blank=True  django admin是否可以为空

verbose_name="用户名"  django admin 中字段显示中文
editable=False  是否可以被编辑
error_messages
help_text="dfdfd" 注释，提示信息
validators  自定义验证机制错误信息

外键
user_group = models.ForeignKey("UserGroup",to_field='uid',default=1)

{{ forloop.counter }}   #显示循环次数
{{ forloop.counter0 }}   #显示循环次数从0开始
{{ forloop.reversecounter }}  #反向排列
{{ forloop.last }}  #返回false或者true 是否是最后一个循环
{{ forloop.first }}  #返回false或者true 是否是最后一个循环
 




